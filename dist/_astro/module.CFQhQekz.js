import{l as Mt,p as Pt,u as ee,a as ie,j as o,B as O,b as de,r as H,g as _e,f as he,h as jt,e as ae,m as Rt,i as _t,M as Et,T as $t}from"./theme.BhsALUC4.js";import{r as i}from"./index.D4lIrffr.js";import{$ as et,ar as It,aF as Dt,aN as Nt,aP as Ae,aO as Vt}from"./types.D0GqHVxK.js";import{S as Tt}from"./ScrollArea.he7Z6nGC.js";import{u as be,A as Ot,T as zt,F as Fe}from"./Flex.ChkTq64b.js";import{h as At,f as tt,a as Ee,j as Ft,b as Lt,e as Le,P as we,I as Ht,c as Bt,d as Gt}from"./InputBase.7zfJi6lQ.js";import{T as Ut}from"./Text.D0nEK-xW.js";import"./index.C_ksqHmP.js";function re(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function st(e){return{x:re(e.x,0,1),y:re(e.y,0,1)}}function $e(e,t,s="ltr"){const r=i.useRef(!1),n=i.useRef(!1),a=i.useRef(0),[c,h]=i.useState(!1);return i.useEffect(()=>{r.current=!0},[]),{ref:i.useCallback(l=>{const u=({x:v,y:R})=>{cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{if(r.current&&l){l.style.userSelect="none";const M=l.getBoundingClientRect();if(M.width&&M.height){const S=re((v-M.left)/M.width,0,1);e({x:s==="ltr"?S:1-S,y:re((R-M.top)/M.height,0,1)})}}})},p=()=>{document.addEventListener("mousemove",d),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x)},m=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x)},C=()=>{!n.current&&r.current&&(n.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),h(!0),p())},x=()=>{n.current&&r.current&&(n.current=!1,h(!1),m(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},y=v=>{C(),v.preventDefault(),d(v)},d=v=>u({x:v.clientX,y:v.clientY}),b=v=>{v.cancelable&&v.preventDefault(),C(),w(v)},w=v=>{v.cancelable&&v.preventDefault(),u({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return l?.addEventListener("mousedown",y),l?.addEventListener("touchstart",b,{passive:!1}),()=>{l&&(l.removeEventListener("mousedown",y),l.removeEventListener("touchstart",b))}},[s,e]),active:c}}function Xt(){const[e,t]=i.useState(!1);Mt(()=>{t(typeof window<"u"&&!Kt()&&"EyeDropper"in window)},[]);const s=i.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:s}}function Kt(){return navigator.userAgent.includes("OPR")}function He(e,t){return t.length===0?e:t.reduce((s,r)=>Math.abs(r-e)<Math.abs(s-e)?r:s)}var rt={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Be={withShadow:!0},Wt=de((e,{radius:t,size:s})=>({root:{"--cs-radius":t===void 0?void 0:_e(t),"--cs-size":H(s)}})),me=Pt((e,t)=>{const s=ee("ColorSwatch",Be,e),{classNames:r,className:n,style:a,styles:c,unstyled:h,vars:f,color:l,size:u,radius:p,withShadow:m,children:C,variant:x,...y}=ee("ColorSwatch",Be,s),d=ie({name:"ColorSwatch",props:s,classes:rt,className:n,style:a,classNames:r,styles:c,unstyled:h,vars:f,varsResolver:Wt});return o.jsxs(O,{ref:t,variant:x,size:u,...d("root",{focusable:!0}),...y,children:[o.jsx("span",{...d("alphaOverlay")}),m&&o.jsx("span",{...d("shadowOverlay")}),o.jsx("span",{...d("colorOverlay",{style:{backgroundColor:l}})}),o.jsx("span",{...d("childrenOverlay"),children:C})]})});me.classes=rt;me.displayName="@mantine/core/ColorSwatch";const[qt,Ie]=At(null),De=i.forwardRef(({position:e,...t},s)=>o.jsx(O,{ref:s,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));De.displayName="@mantine/core/ColorPickerThumb";var Ne={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const Yt={},Ve=he((e,t)=>{const s=ee("ColorSlider",Yt,e),{classNames:r,className:n,style:a,styles:c,unstyled:h,vars:f,onChange:l,onChangeEnd:u,maxValue:p,round:m,size:C="md",focusable:x=!0,value:y,overlays:d,thumbColor:b="transparent",onScrubStart:w,onScrubEnd:v,__staticSelector:R="ColorPicker",...M}=s,S=ie({name:R,classes:Ne,props:s,className:n,style:a,classNames:r,styles:c,unstyled:h}),z=Ie()?.getStyles||S,J=jt(),[D,B]=i.useState({y:0,x:y/p}),A=i.useRef(D),W=k=>m?Math.round(k*p):k*p,{ref:Z}=$e(({x:k,y:N})=>{A.current={x:k,y:N},l?.(W(k))},{onScrubEnd:()=>{const{x:k}=A.current;u?.(W(k)),v?.()},onScrubStart:w});be(()=>{B({y:0,x:y/p})},[y]);const E=(k,N)=>{k.preventDefault();const $=st(N);l?.(W($.x)),u?.(W($.x))},Q=k=>{switch(k.key){case"ArrowRight":{E(k,{x:D.x+.05,y:D.y});break}case"ArrowLeft":{E(k,{x:D.x-.05,y:D.y});break}}},G=d.map((k,N)=>i.createElement("div",{...z("sliderOverlay"),style:k,key:N}));return o.jsxs(O,{...M,ref:tt(Z,t),...z("slider"),role:"slider","aria-valuenow":y,"aria-valuemax":p,"aria-valuemin":0,tabIndex:x?0:-1,onKeyDown:Q,"data-focus-ring":J.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${C})`},children:[G,o.jsx(De,{position:D,...z("thumb",{style:{top:H(1),background:b}})})]})});Ve.displayName="@mantine/core/ColorSlider";function K(e,t=0,s=10**t){return Math.round(s*e)/s}function Jt({h:e,s:t,l:s,a:r}){const n=t*((s<50?s:100-s)/100);return{h:e,s:n>0?2*n/(s+n)*100:0,v:s+n,a:r}}const Qt={grad:360/400,turn:360,rad:360/(Math.PI*2)};function Zt(e,t="deg"){return Number(e)*(Qt[t]||1)}const es=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Ge(e){const t=es.exec(e);return t?Jt({h:Zt(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function Pe({r:e,g:t,b:s,a:r}){const n=Math.max(e,t,s),a=n-Math.min(e,t,s),c=a?n===e?(t-s)/a:n===t?2+(s-e)/a:4+(e-t)/a:0;return{h:K(60*(c<0?c+6:c),3),s:K(n?a/n*100:0,3),v:K(n/255*100,3),a:r}}function je(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?Pe({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):Pe({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function ts(e){const t=e[0]==="#"?e.slice(1):e,s=c=>K(parseInt(c,16)/255,3);if(t.length===4){const c=t.slice(0,3),h=s(t[3]+t[3]);return{...je(c),a:h}}const r=t.slice(0,6),n=s(t.slice(6,8));return{...je(r),a:n}}const ss=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function Ue(e){const t=ss.exec(e);return t?Pe({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const nt={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},rs={hex:je,hexa:ts,rgb:Ue,rgba:Ue,hsl:Ge,hsla:Ge};function ue(e){for(const[,t]of Object.entries(nt))if(t.test(e))return!0;return!1}function ce(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[s,r]of Object.entries(nt))if(r.test(t))return rs[s](t);return{h:0,s:0,v:0,a:1}}const ns={},ot=i.forwardRef((e,t)=>{const{value:s,onChange:r,onChangeEnd:n,color:a,...c}=ee("AlphaSlider",ns,e);return o.jsx(Ve,{...c,ref:t,value:s,onChange:h=>r?.(K(h,2)),onChangeEnd:h=>n?.(K(h,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${H(8)} ${H(8)}`,backgroundPosition:`0 0, 0 ${H(4)}, ${H(4)} ${H(-4)}, ${H(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${a})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${H(1)} inset, rgb(0, 0, 0, .15) 0 0 ${H(4)} inset`}]})});ot.displayName="@mantine/core/AlphaSlider";function at({h:e,s:t,v:s,a:r}){const n=e/360*6,a=t/100,c=s/100,h=Math.floor(n),f=c*(1-a),l=c*(1-(n-h)*a),u=c*(1-(1-n+h)*a),p=h%6;return{r:K([c,l,f,f,u,c][p]*255),g:K([u,c,c,l,f,f][p]*255),b:K([f,f,u,c,c,l][p]*255),a:K(r,2)}}function Xe(e,t){const{r:s,g:r,b:n,a}=at(e);return t?`rgba(${s}, ${r}, ${n}, ${K(a,2)})`:`rgb(${s}, ${r}, ${n})`}function Ke({h:e,s:t,v:s,a:r},n){const a=(200-t)*s/100,c={h:Math.round(e),s:Math.round(a>0&&a<200?t*s/100/(a<=100?a:200-a)*100:0),l:Math.round(a/2)};return n?`hsla(${c.h}, ${c.s}%, ${c.l}%, ${K(r,2)})`:`hsl(${c.h}, ${c.s}%, ${c.l}%)`}function xe(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function ct(e){const{r:t,g:s,b:r}=at(e);return`#${xe(t)}${xe(s)}${xe(r)}`}function os(e){const t=Math.round(e.a*255);return`${ct(e)}${xe(t)}`}const Ce={hex:ct,hexa:e=>os(e),rgb:e=>Xe(e,!1),rgba:e=>Xe(e,!0),hsl:e=>Ke(e,!1),hsla:e=>Ke(e,!0)};function Y(e,t){return t?e in Ce?Ce[e](t):Ce.hex(t):"#000000"}const lt=i.forwardRef((e,t)=>{const{value:s,onChange:r,onChangeEnd:n,color:a,...c}=ee("HueSlider",{},e);return o.jsx(Ve,{...c,ref:t,value:s,onChange:r,onChangeEnd:n,maxValue:360,thumbColor:`hsl(${s}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${H(1)} inset, rgb(0, 0, 0, .15) 0 0 ${H(4)} inset`}]})});lt.displayName="@mantine/core/HueSlider";function it({className:e,onChange:t,onChangeEnd:s,value:r,saturationLabel:n,focusable:a=!0,size:c,color:h,onScrubStart:f,onScrubEnd:l,...u}){const{getStyles:p}=Ie(),[m,C]=i.useState({x:r.s/100,y:1-r.v/100}),x=i.useRef(m),{ref:y}=$e(({x:w,y:v})=>{x.current={x:w,y:v},t({s:Math.round(w*100),v:Math.round((1-v)*100)})},{onScrubEnd:()=>{const{x:w,y:v}=x.current;s({s:Math.round(w*100),v:Math.round((1-v)*100)}),l?.()},onScrubStart:f});i.useEffect(()=>{C({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const d=(w,v)=>{w.preventDefault();const R=st(v);t({s:Math.round(R.x*100),v:Math.round((1-R.y)*100)}),s({s:Math.round(R.x*100),v:Math.round((1-R.y)*100)})},b=w=>{switch(w.key){case"ArrowUp":{d(w,{y:m.y-.05,x:m.x});break}case"ArrowDown":{d(w,{y:m.y+.05,x:m.x});break}case"ArrowRight":{d(w,{x:m.x+.05,y:m.y});break}case"ArrowLeft":{d(w,{x:m.x-.05,y:m.y});break}}};return o.jsxs(O,{...p("saturation"),ref:y,...u,role:"slider","aria-label":n,"aria-valuenow":m.x,"aria-valuetext":Y("rgba",r),tabIndex:a?0:-1,onKeyDown:b,children:[o.jsx("div",{...p("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),o.jsx("div",{...p("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),o.jsx("div",{...p("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),o.jsx(De,{position:m,...p("thumb",{style:{backgroundColor:h}})})]})}it.displayName="@mantine/core/Saturation";const ut=i.forwardRef(({className:e,datatype:t,setValue:s,onChangeEnd:r,size:n,focusable:a,data:c,swatchesPerRow:h,...f},l)=>{const u=Ie(),p=c.map((m,C)=>i.createElement(me,{...u.getStyles("swatch"),unstyled:u.unstyled,component:"button",type:"button",color:m,key:C,radius:"sm",onClick:()=>{s(m),r?.(m)},"aria-label":m,tabIndex:a?0:-1,"data-swatch":!0}));return o.jsx(O,{...u.getStyles("swatches"),ref:l,...f,children:p})});ut.displayName="@mantine/core/Swatches";const as={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},cs=de((e,{size:t,swatchesPerRow:s})=>({wrapper:{"--cp-preview-size":ae(t,"cp-preview-size"),"--cp-width":ae(t,"cp-width"),"--cp-body-spacing":Rt(t),"--cp-swatch-size":`${100/s}%`,"--cp-thumb-size":ae(t,"cp-thumb-size"),"--cp-saturation-height":ae(t,"cp-saturation-height")}})),Te=he((e,t)=>{const s=ee("ColorPicker",as,e),{classNames:r,className:n,style:a,styles:c,unstyled:h,vars:f,format:l="hex",value:u,defaultValue:p,onChange:m,onChangeEnd:C,withPicker:x,size:y,saturationLabel:d,hueLabel:b,alphaLabel:w,focusable:v,swatches:R,swatchesPerRow:M,fullWidth:S,onColorSwatchClick:_,__staticSelector:z,mod:J,...D}=s,B=ie({name:z,props:s,classes:Ne,className:n,style:a,classNames:r,styles:c,unstyled:h,rootSelector:"wrapper",vars:f,varsResolver:cs}),A=i.useRef(l||"hex"),W=i.useRef(""),Z=i.useRef(-1),E=i.useRef(!1),Q=l==="hexa"||l==="rgba"||l==="hsla",[G,k,N]=Ee({value:u,defaultValue:p,finalValue:"#FFFFFF",onChange:m}),[$,te]=i.useState(ce(G)),j=()=>{window.clearTimeout(Z.current),E.current=!0},g=()=>{window.clearTimeout(Z.current),Z.current=window.setTimeout(()=>{E.current=!1},200)},F=P=>{te(q=>{const U={...q,...P};return W.current=Y(A.current,U),U}),k(W.current)};return be(()=>{typeof u=="string"&&ue(u)&&!E.current&&te(ce(u))},[u]),be(()=>{A.current=l||"hex",k(Y(A.current,$))},[l]),o.jsx(qt,{value:{getStyles:B,unstyled:h},children:o.jsxs(O,{ref:t,...B("wrapper"),size:y,mod:[{"full-width":S},J],...D,children:[x&&o.jsxs(o.Fragment,{children:[o.jsx(it,{value:$,onChange:F,onChangeEnd:({s:P,v:q})=>C?.(Y(A.current,{...$,s:P,v:q})),color:G,size:y,focusable:v,saturationLabel:d,onScrubStart:j,onScrubEnd:g}),o.jsxs("div",{...B("body"),children:[o.jsxs("div",{...B("sliders"),children:[o.jsx(lt,{value:$.h,onChange:P=>F({h:P}),onChangeEnd:P=>C?.(Y(A.current,{...$,h:P})),size:y,focusable:v,"aria-label":b,onScrubStart:j,onScrubEnd:g}),Q&&o.jsx(ot,{value:$.a,onChange:P=>F({a:P}),onChangeEnd:P=>{C?.(Y(A.current,{...$,a:P}))},size:y,color:Y("hex",$),focusable:v,"aria-label":w,onScrubStart:j,onScrubEnd:g})]}),Q&&o.jsx(me,{color:G,radius:"sm",size:"var(--cp-preview-size)",...B("preview")})]})]}),Array.isArray(R)&&o.jsx(ut,{data:R,swatchesPerRow:M,focusable:v,setValue:k,onChangeEnd:P=>{const q=Y(l,ce(P));_?.(q),C?.(q),N||te(ce(P))}})]})})});Te.classes=Ne;Te.displayName="@mantine/core/ColorPicker";function ls({style:e,...t}){return o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[o.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),o.jsx("path",{d:"M12 3l0 4"}),o.jsx("path",{d:"M12 21l0 -3"}),o.jsx("path",{d:"M3 12l4 0"}),o.jsx("path",{d:"M21 12l-3 0"}),o.jsx("path",{d:"M12 12l0 .01"})]})}var We={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const qe={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},is=de((e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":ae(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":ae(t,"ci-preview-size")}})),Oe=he((e,t)=>{const s=ee("ColorInput",qe,e),{classNames:r,styles:n,unstyled:a,disallowInput:c,fixOnBlur:h,popoverProps:f,withPreview:l,withEyeDropper:u,eyeDropperIcon:p,closeOnColorSwatchClick:m,eyeDropperButtonProps:C,value:x,defaultValue:y,onChange:d,onChangeEnd:b,onClick:w,onFocus:v,onBlur:R,inputProps:M,format:S="hex",wrapperProps:_,readOnly:z,withPicker:J,swatches:D,disabled:B,leftSection:A,rightSection:W,swatchesPerRow:Z,...E}=Ft("ColorInput",qe,e),Q=ie({name:"ColorInput",props:s,classes:We,classNames:r,styles:n,unstyled:a,rootSelector:"wrapper",vars:s.vars,varsResolver:is}),{resolvedClassNames:G,resolvedStyles:k}=Lt({classNames:r,styles:n,props:s}),[N,$]=i.useState(!1),[te,j]=i.useState(""),[g,F]=Ee({value:x,defaultValue:y,finalValue:"",onChange:d}),{supported:P,open:q}=Xt(),U=o.jsx(Ot,{...C,...Q("eyeDropperButton",{className:C?.className,style:C?.style}),variant:"subtle",color:"gray",size:M.size,unstyled:a,onClick:()=>q().then(I=>{if(I?.sRGBHex){const se=Y(S,ce(I.sRGBHex));F(se),b?.(se)}}).catch(()=>{}),children:p||o.jsx(ls,{...Q("eyeDropperIcon")})}),ne=I=>{v?.(I),$(!0)},oe=I=>{h&&F(te),R?.(I),$(!1)},fe=I=>{w?.(I),$(!0)};return i.useEffect(()=>{(ue(g)||g.trim()==="")&&j(g)},[g]),be(()=>{ue(g)&&F(Y(S,ce(g)))},[S]),o.jsx(Le.Wrapper,{..._,classNames:G,styles:k,__staticSelector:"ColorInput",children:o.jsxs(we,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:N,...f,classNames:G,styles:k,unstyled:a,withRoles:!1,disabled:z||J===!1&&(!Array.isArray(D)||D.length===0),children:[o.jsx(we.Target,{children:o.jsx(Le,{autoComplete:"off",...E,...M,classNames:G,styles:k,disabled:B,ref:t,__staticSelector:"ColorInput",onFocus:ne,onBlur:oe,onClick:fe,spellCheck:!1,value:g,onChange:I=>{const se=I.currentTarget.value;F(se),ue(se)&&b?.(Y(S,ce(se)))},leftSection:A||(l?o.jsx(me,{color:ue(g)?g:"#fff",size:"var(--ci-preview-size)",...Q("colorPreview")}):null),readOnly:c||z,pointer:c,unstyled:a,rightSection:W||(u&&!B&&!z&&P?U:null)})}),o.jsx(we.Dropdown,{onMouseDown:I=>I.preventDefault(),className:We.dropdown,children:o.jsx(Te,{__staticSelector:"ColorInput",value:g,onChange:F,onChangeEnd:b,format:S,swatches:D,swatchesPerRow:Z,withPicker:J,size:M.size,focusable:!1,unstyled:a,styles:k,classNames:G,onColorSwatchClick:()=>m&&$(!1)})})]})})});Oe.classes=Ht.classes;Oe.displayName="@mantine/core/ColorInput";var dt={root:"m_e9408a47","root--default":"m_84c9523a","root--filled":"m_ef274e49","root--unstyled":"m_eda993d3",legend:"m_90794832","legend--unstyled":"m_74ca27fe"};const us={variant:"default"},ds=de((e,{radius:t})=>({root:{"--fieldset-radius":t===void 0?void 0:_e(t)}})),ge=he((e,t)=>{const s=ee("Fieldset",us,e),{classNames:r,className:n,style:a,styles:c,unstyled:h,vars:f,legend:l,variant:u,children:p,...m}=s,C=ie({name:"Fieldset",classes:dt,props:s,className:n,style:a,classNames:r,styles:c,unstyled:h,vars:f,varsResolver:ds});return o.jsxs(O,{component:"fieldset",ref:t,variant:u,...C("root",{variant:u}),...m,children:[l&&o.jsx("legend",{...C("legend",{variant:u}),children:l}),p]})});ge.classes=dt;ge.displayName="@mantine/core/Fieldset";const[hs,ye]=Bt("SliderProvider was not found in tree"),ht=i.forwardRef(({size:e,disabled:t,variant:s,color:r,thumbSize:n,radius:a,...c},h)=>{const{getStyles:f}=ye();return o.jsx(O,{tabIndex:-1,variant:s,size:e,ref:h,...f("root"),...c})});ht.displayName="@mantine/core/SliderRoot";const mt=i.forwardRef(({max:e,min:t,value:s,position:r,label:n,dragging:a,onMouseDown:c,onKeyDownCapture:h,labelTransitionProps:f,labelAlwaysOn:l,thumbLabel:u,onFocus:p,onBlur:m,showLabelOnHover:C,isHovered:x,children:y=null,disabled:d},b)=>{const{getStyles:w}=ye(),[v,R]=i.useState(!1),M=l||a||v||C&&x;return o.jsxs(O,{tabIndex:0,role:"slider","aria-label":u,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":s,ref:b,__vars:{"--slider-thumb-offset":`${r}%`},...w("thumb",{focusable:!0}),mod:{dragging:a,disabled:d},onFocus:S=>{R(!0),typeof p=="function"&&p(S)},onBlur:S=>{R(!1),typeof m=="function"&&m(S)},onTouchStart:c,onMouseDown:c,onKeyDownCapture:h,onClick:S=>S.stopPropagation(),children:[y,o.jsx(zt,{mounted:n!=null&&!!M,transition:"fade",duration:0,...f,children:S=>o.jsx("div",{...w("label",{style:S}),children:n})})]})});mt.displayName="@mantine/core/SliderThumb";function ft({value:e,min:t,max:s}){const r=(e-t)/(s-t)*100;return Math.min(Math.max(r,0),100)}function ms({mark:e,offset:t,value:s,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=s:typeof t=="number"?e.value>=t&&e.value<=s:e.value<=s}function pt({marks:e,min:t,max:s,disabled:r,value:n,offset:a,inverted:c}){const{getStyles:h}=ye();if(!e)return null;const f=e.map((l,u)=>i.createElement(O,{...h("markWrapper"),__vars:{"--mark-offset":`${ft({value:l.value,min:t,max:s})}%`},key:u},o.jsx(O,{...h("mark"),mod:{filled:ms({mark:l,value:n,offset:a,inverted:c}),disabled:r}}),l.label&&o.jsx("div",{...h("markLabel"),children:l.label})));return o.jsx("div",{children:f})}pt.displayName="@mantine/core/SliderMarks";function vt({filled:e,children:t,offset:s,disabled:r,marksOffset:n,inverted:a,containerProps:c,...h}){const{getStyles:f}=ye();return o.jsx(O,{...f("trackContainer"),mod:{disabled:r},...c,children:o.jsxs(O,{...f("track"),mod:{inverted:a,disabled:r},children:[o.jsx(O,{mod:{inverted:a,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${s}% - var(--slider-size))`},...f("bar")}),t,o.jsx(pt,{...h,offset:n,disabled:r,inverted:a})]})})}vt.displayName="@mantine/core/SliderTrack";function fs({value:e,containerWidth:t,min:s,max:r,step:n,precision:a}){const h=(t?Math.min(Math.max(e,0),t)/t:e)*(r-s),f=(h!==0?Math.round(h/n)*n:0)+s,l=Math.max(f,s);return a!==void 0?Number(l.toFixed(a)):l}function pe(e,t){return parseFloat(e.toFixed(t))}function ps(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function Se(e,t){const r=[...t].sort((n,a)=>n.value-a.value).find(n=>n.value>e);return r?r.value:e}function ke(e,t){const r=[...t].sort((n,a)=>a.value-n.value).find(n=>n.value<e);return r?r.value:e}function Ye(e){const t=[...e].sort((s,r)=>s.value-r.value);return t.length>0?t[0].value:0}function Je(e){const t=[...e].sort((s,r)=>s.value-r.value);return t.length>0?t[t.length-1].value:100}var xt={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const vs={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},thumbLabel:"",showLabelOnHover:!0,scale:e=>e,size:"md"},xs=de((e,{size:t,color:s,thumbSize:r,radius:n})=>({root:{"--slider-size":ae(t,"slider-size"),"--slider-color":s?_t(s,e):void 0,"--slider-radius":n===void 0?void 0:_e(n),"--slider-thumb-size":r!==void 0?H(r):"calc(var(--slider-size) * 2)"}})),ze=he((e,t)=>{const s=ee("Slider",vs,e),{classNames:r,styles:n,value:a,onChange:c,onChangeEnd:h,size:f,min:l,max:u,domain:p,step:m,precision:C,defaultValue:x,name:y,marks:d,label:b,labelTransitionProps:w,labelAlwaysOn:v,thumbLabel:R,showLabelOnHover:M,thumbChildren:S,disabled:_,unstyled:z,scale:J,inverted:D,className:B,style:A,vars:W,hiddenInputProps:Z,restrictToMarks:E,thumbProps:Q,...G}=s,k=ie({name:"Slider",props:s,classes:xt,classNames:r,className:B,styles:n,style:A,vars:W,varsResolver:xs,unstyled:z}),{dir:N}=Gt(),[$,te]=i.useState(!1),[j,g]=Ee({value:typeof a=="number"?re(a,l,u):a,defaultValue:typeof x=="number"?re(x,l,u):x,finalValue:re(0,l,u),onChange:c}),F=i.useRef(j),P=i.useRef(h);i.useEffect(()=>{P.current=h},[h]);const q=i.useRef(null),U=i.useRef(null),[ne,oe]=p||[l,u],fe=ft({value:j,min:ne,max:oe}),I=J(j),se=typeof b=="function"?b(I):b,le=C??ps(m),gt=i.useCallback(({x:L})=>{if(!_){const V=fs({value:L,min:ne,max:oe,step:m,precision:le}),T=re(V,l,u);g(E&&d?.length?He(T,d.map(kt=>kt.value)):T),F.current=T}},[_,l,u,ne,oe,m,le,g,d,E]),yt=i.useCallback(()=>{if(!_&&P.current){const L=E&&d?.length?He(F.current,d.map(V=>V.value)):F.current;P.current(L)}},[_,d,E]),{ref:wt,active:Ct}=$e(gt,{onScrubEnd:yt},N),X=i.useCallback(L=>{!_&&P.current&&P.current(L)},[_]),St=L=>{if(!_)switch(L.key){case"ArrowUp":{if(L.preventDefault(),U.current?.focus(),E&&d){const T=Se(j,d);g(T),X(T);break}const V=pe(Math.min(Math.max(j+m,l),u),le);g(V),X(V);break}case"ArrowRight":{if(L.preventDefault(),U.current?.focus(),E&&d){const T=N==="rtl"?ke(j,d):Se(j,d);g(T),X(T);break}const V=pe(Math.min(Math.max(N==="rtl"?j-m:j+m,l),u),le);g(V),X(V);break}case"ArrowDown":{if(L.preventDefault(),U.current?.focus(),E&&d){const T=ke(j,d);g(T),X(T);break}const V=pe(Math.min(Math.max(j-m,l),u),le);g(V),X(V);break}case"ArrowLeft":{if(L.preventDefault(),U.current?.focus(),E&&d){const T=N==="rtl"?Se(j,d):ke(j,d);g(T),X(T);break}const V=pe(Math.min(Math.max(N==="rtl"?j+m:j-m,l),u),le);g(V),X(V);break}case"Home":{if(L.preventDefault(),U.current?.focus(),E&&d){g(Ye(d)),X(Ye(d));break}g(l),X(l);break}case"End":{if(L.preventDefault(),U.current?.focus(),E&&d){g(Je(d)),X(Je(d));break}g(u),X(u);break}}};return o.jsx(hs,{value:{getStyles:k},children:o.jsxs(ht,{...G,ref:tt(t,q),onKeyDownCapture:St,onMouseDownCapture:()=>q.current?.focus(),size:f,disabled:_,children:[o.jsx(vt,{inverted:D,offset:0,filled:fe,marks:d,min:ne,max:oe,value:I,disabled:_,containerProps:{ref:wt,onMouseEnter:M?()=>te(!0):void 0,onMouseLeave:M?()=>te(!1):void 0},children:o.jsx(mt,{max:oe,min:ne,value:I,position:fe,dragging:Ct,label:se,ref:U,labelTransitionProps:w,labelAlwaysOn:v,thumbLabel:R,showLabelOnHover:M,isHovered:$,disabled:_,...Q,children:S})}),o.jsx("input",{type:"hidden",name:y,value:I,...Z})]})})});ze.classes=xt;ze.displayName="@mantine/core/Slider";const ve={diameter:24,color:"#000000",dimensions:[420,420]};function bs(e){const[t,s]=i.useState(ve.diameter),[r,n]=i.useState(ve.color),[a,c]=i.useState(ve.dimensions),h=i.useCallback(u=>{const p={...ve};u&&(p.diameter=u.diameter,p.color=u.color,p.dimensions=u.dimensions),s(p.diameter),n(p.color),c(p.dimensions)},[e,s,n,c]);return i.useEffect(()=>{},[e]),[{diameter:t,color:r,dimensions:a},{setDiameter:s,setColor:n,setDimensions:c,reset:h}]}const Re=i.createContext(null),gs=({children:e})=>{const t=bs();return o.jsx(Re.Provider,{value:t,children:e})};function bt(){if(Re===null)throw new Error("No provider for PixelCanvasCtx");return i.useContext(Re)}function Me(e){return{clear:()=>e.clearRect(0,0,e.canvas.width,e.canvas.height),draw:n=>{e.beginPath(),n(),e.closePath()},save:n=>{e.save(),n(),e.restore()}}}const ys="Canvas dimensions cannot be smaller than 200x200",ws="Canvas dimensions cannot be larger than 640x640",Qe=et.number().int().positive().min(200,ys).max(640,ws),Ze=It({width:Qe,height:Qe,color:Dt().regex(/^#[0-9a-fA-F]{6}$/,"Invalid color format. Must be a 7-character hex code (e.g., #RRGGBB)"),diameter:et.number().min(1,"Diameter must be at least 1").max(200,"Diameter cannot be greater than 200")});function Cs(){const[e,t]=i.useState([null,null]),[s,r]=i.useState(!1);return[{cursorPosition:e,cursorIsDown:s},{setCursorPosition:t,setCursorIsDown:r}]}function Ss({state:e,canvasRef:t,cursorCanvasRef:s}){const r=i.useRef(null),n=i.useRef(null),[{cursorIsDown:a,cursorPosition:c},{setCursorIsDown:h,setCursorPosition:f}]=Cs();i.useEffect(()=>{t.current&&(n.current=t.current.getContext("2d"))},[t.current]),i.useEffect(()=>{s.current&&(r.current=s.current.getContext("2d"))},[s.current]);const l=i.useCallback(({save:x,draw:y,clear:d,context:b})=>{c[0]&&(d(),x(()=>{y(()=>{b.strokeStyle=e.color,b.arc(...c,e.diameter/2,0,Math.PI*2),b.stroke()})}))},[e.diameter,e.color,c]),u=i.useCallback(({save:x,draw:y,force:d,context:b})=>{c[0]&&(d||a)&&x(()=>{y(()=>{b.fillStyle=e.color,b.arc(...c,e.diameter/2,0,Math.PI*2),b.fill()})})},[e.diameter,e.color,c]),p=(x,y)=>{if(n.current&&r.current){const d=n.current,b=r.current,v=n.current.canvas.getBoundingClientRect(),{save:R,draw:M}=Me(d),S=x.clientX-v.left,_=x.clientY-v.top,{save:z,draw:J,clear:D}=Me(b);f([S,_]),l({context:b,cursorX:S,cursorY:_,save:z,draw:J,clear:D}),u({force:y,context:d,cursorX:S,cursorY:_,save:R,draw:M})}};return[{onMouseDown:x=>{h(!0),p(x,!0)},onMouseUp:()=>h(!1),onMouseMove:x=>p(x),onMouseOut:()=>{if(n.current&&r.current){const{clear:x}=Me(r.current);f([null,null]),h(!1),x()}}},{}]}function ks(){const[e]=bt(),t=i.useRef(null),s=i.useRef(null),[{onMouseMove:r,onMouseOut:n,onMouseDown:a,onMouseUp:c}]=Ss({state:e,canvasRef:s,cursorCanvasRef:t});return o.jsx(Tt,{w:"100%",h:"100%",px:"md",mt:"md",children:o.jsxs(O,{w:e.dimensions[0],h:e.dimensions[1],style:{position:"relative",margin:"0 auto"},children:[o.jsx("canvas",{ref:t,onMouseMove:r,onMouseOut:n,onMouseDown:a,onMouseUp:c,style:{position:"absolute",zIndex:2,display:"block",margin:"0 auto"},width:e.dimensions[0],height:e.dimensions[1]}),o.jsx("canvas",{ref:s,style:{position:"absolute",zIndex:1,background:"white",display:"block",margin:"0 auto"},width:e.dimensions[0],height:e.dimensions[1]})]})})}function Ms(){const[e,t]=bt(),s=Nt({initialValues:{width:e.dimensions[0],height:e.dimensions[1],color:e.color,diameter:e.diameter},validate:Vt(Ze),onValuesChange:r=>{const n=Ze.safeParse(r);if(n.success){const{width:a,height:c,color:h,diameter:f}=n.data;t.reset({dimensions:[a,c],diameter:f,color:h})}}});return o.jsxs(Fe,{component:"form",className:"canvas-form",wrap:"wrap",mx:"auto",w:{xs:"fit-content",md:900},columnGap:"xs",px:"md",children:[o.jsxs(ge,{legend:"Dimensions",w:"100%",maw:424,mx:"auto",children:[o.jsx(Ae,{type:"number",label:"Width",required:!0,...s.getInputProps("width")}),o.jsx(Ae,{type:"number",label:"Height",required:!0,...s.getInputProps("height")})]}),o.jsxs(ge,{legend:"Brush",w:"100%",maw:424,mx:"auto",children:[o.jsx(Oe,{label:"Color",required:!0,...s.getInputProps("color")}),o.jsxs(Fe,{direction:"column",mt:"xs",children:[o.jsx(Ut,{size:"sm",fw:"600",mb:3,children:"Diameter"}),o.jsx(ze,{label:"Diameter",min:1,max:200,...s.getInputProps("diameter")})]})]})]})}function Ps({children:e}){return o.jsx(Et,{defaultColorScheme:"dark",theme:$t,children:o.jsx(gs,{children:e})})}function Vs(){return o.jsxs(Ps,{children:[o.jsx(Ms,{}),o.jsx(ks,{})]})}export{Vs as default};
